<?php

/**
 * PageAttribute
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    ##PACKAGE##
 * @subpackage ##SUBPACKAGE##
 * @author     ##NAME## <##EMAIL##>
 * @version    SVN: $Id: Builder.php 7691 2011-02-04 15:43:29Z jwage $
 */
class PageAttribute extends BasePageAttribute
{

	
	public function __contruct($connName = false)
	{
		if(! $connName)
		{
			$connName = "doctrine_site" ;
		}
	
		Doctrine_Manager::getInstance()->bindComponent($connName, $connName);
	
	}
	
	
	function getPageAttributes(){
		$attrList = Doctrine_Query::create()
		            ->select()->from('pageAttribute')->fetchArray();
		return  $attrList;
	}

	/**
	 *  Author Amit Sharma
	 *  Get page id on name basis
	 *	Version: 1.0
	 */

	public static function getPageIdByName($name){

		$data = Doctrine_Core::getTable('pageAttribute')->findOneBy('name', $name);
		return $data->id;
		
	}

	/**
	 *  Author Amit Sharma
	 *  Get insert Sign up page Attribute
	 *	Version: 1.0
	 */

	public static function insertPageAttribute(){

			for($i=1; $i<5; $i++)
			{
				
				$sname = "Sign Up Step ".$i;
				$findRecordFromDatabase = $data = Doctrine_Core::getTable('pageAttribute')->findOneBy('name', $sname);
				if(!isset($findRecordFromDatabase))
				{  
					$pageAttributeObject = new PageAttribute();
					$pageAttributeObject->name = $sname;
					$pageAttributeObject->save();
					return true;
				}else{

					return false;

				}
				
			}
			
		}
	
}