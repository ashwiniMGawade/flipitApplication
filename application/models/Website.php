<?php

/**
 * Website
 *
 * This class has been auto-generated by the Doctrine ORM Framework
 *
 * @package    ##PACKAGE##
 * @subpackage ##SUBPACKAGE##
 * @author     ##NAME## <##EMAIL##>
 * @version    SVN: $Id: Builder.php 7691 2011-02-04 15:43:29Z jwage $
 */
class Website extends BaseWebsite
{
    public static function getAllWebsites()
    {
        $websites = Doctrine_Query::create()->select("id,name")
                    ->from("Website")
                    ->where("deleted=0")
                    ->fetchArray();
        return BackEnd_Helper_viewHelper::msort($websites,"name",array("kortingscode.nl"));
    }

    public static function getWebsiteDetails($websiteId = null,$websiteName = null)
    {
        $websiteId =  FrontEnd_Helper_viewHelper::sanitize($websiteId);
        $websites = Doctrine_Query::create()->select("id,name,url")
                        ->from("Website")
                        ->where("deleted=0");

        if($websiteName) {
            $websites->andWhere("name = ? ", $websiteName);
        }else{
            $websites->andWhere("id = ? ", $websiteId);
        }      
        return  $websites->fetchOne(null,Doctrine::HYDRATE_ARRAY);
    }
}
